(function(c,b,a,d){Foundation.libs=Foundation.libs||{};Foundation.libs.orbit={name:"orbit",version:"4.1.0",settings:{timer_speed:10000,animation_speed:500,bullets:true,stack_on_small:true,container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning"},init:function(g,h,f){var e=this;Foundation.inherit(e,"data_options");if(typeof h==="object"){c.extend(true,e.settings,h)}c("[data-orbit]",g).each(function(i,k){var j=c.extend(true,{},e);j._init(i,k)})},_container_html:function(){var e=this;return'<div class="'+e.settings.container_class+'"></div>'},_bullets_container_html:function(g){var e=this,f=c('<ol class="'+e.settings.bullets_container_class+'"></ol>');g.each(function(i,h){var j=c('<li data-orbit-slide-number="'+(i+1)+'" class=""></li>');if(i===0){j.addClass(e.settings.bullets_active_class)}f.append(j)});return f},_slide_number_html:function(h,g){var e=this,f=c('<div class="'+e.settings.slide_number_class+'"></div>');f.append("<span>"+h+"</span> of <span>"+g+"</span>");return f},_timer_html:function(){var e=this;if(typeof e.settings.timer_speed==="number"&&e.settings.timer_speed>0){return'<div class="'+e.settings.timer_container_class+'"><span></span><div class="'+e.settings.timer_progress_class+'"></div></div>'}else{return""}},_next_html:function(){var e=this;return'<a href="#" class="'+e.settings.next_class+'">Next <span></span></a>'},_prev_html:function(){var e=this;return'<a href="#" class="'+e.settings.prev_class+'">Prev <span></span></a>'},_init:function(f,h){var g=this,e=c(h),j=e.wrap(g._container_html()).parent(),i=e.children();c.extend(true,g.settings,g.data_options(e));j.append(g._prev_html());j.append(g._next_html());e.addClass(g.settings.slides_container_class);if(g.settings.stack_on_small){j.addClass(g.settings.stack_on_small_class)}j.append(g._slide_number_html(1,i.length));j.append(g._timer_html());if(g.settings.bullets){j.after(g._bullets_container_html(i))}e.append(i.first().clone().attr("data-orbit-slide",""));e.prepend(i.last().clone().attr("data-orbit-slide",""));e.css("marginLeft","-100%");i.first().addClass(g.settings.active_slide_class);g._init_events(e);g._init_dimensions(e);g._start_timer(e)},_init_events:function(e){var f=this,g=e.parent();c(b).on("load.fndtn.orbit",function(){e.height("");e.height(e.height(g.height()));e.trigger("orbit:ready")}).on("resize.fndtn.orbit",function(){e.height("");e.height(e.height(g.height()))});c(a).on("click.fndtn.orbit","[data-orbit-link]",function(i){i.preventDefault();var j=c(i.currentTarget).attr("data-orbit-link"),h=e.find("[data-orbit-slide="+j+"]").first();if(h.length===1){f._reset_timer(e,true);f._goto(e,h.index(),function(){})}});g.siblings("."+f.settings.bullets_container_class).on("click.fndtn.orbit","[data-orbit-slide-number]",function(h){h.preventDefault();f._reset_timer(e,true);f._goto(e,c(h.currentTarget).data("orbit-slide-number"),function(){})});g.on("orbit:after-slide-change.fndtn.orbit",function(i,h){var j=g.find("."+f.settings.slide_number_class);if(j.length===1){j.replaceWith(f._slide_number_html(h.slide_number,h.total_slides))}}).on("orbit:next-slide.fndtn.orbit click.fndtn.orbit","."+f.settings.next_class,function(h){h.preventDefault();f._reset_timer(e,true);f._goto(e,"next",function(){})}).on("orbit:prev-slide.fndtn.orbit click.fndtn.orbit","."+f.settings.prev_class,function(h){h.preventDefault();f._reset_timer(e,true);f._goto(e,"prev",function(){})}).on("orbit:toggle-play-pause.fndtn.orbit click.fndtn.orbit touchstart.fndtn.orbit","."+f.settings.timer_container_class,function(j){j.preventDefault();var i=c(j.currentTarget).toggleClass(f.settings.timer_paused_class),h=i.closest("."+f.settings.container_class).find("."+f.settings.slides_container_class);if(i.hasClass(f.settings.timer_paused_class)){f._stop_timer(h)}else{f._start_timer(h)}}).on("touchstart.fndtn.orbit",function(i){if(!i.touches){i=i.originalEvent}var h={start_page_x:i.touches[0].pageX,start_page_y:i.touches[0].pageY,start_time:(new Date()).getTime(),delta_x:0,is_scrolling:d};g.data("swipe-transition",h);i.stopPropagation()}).on("touchmove.fndtn.orbit",function(j){if(!j.touches){j=j.originalEvent}if(j.touches.length>1||j.scale&&j.scale!==1){return}var h=g.data("swipe-transition");if(typeof h==="undefined"){h={}}h.delta_x=j.touches[0].pageX-h.start_page_x;if(typeof h.is_scrolling==="undefined"){h.is_scrolling=!!(h.is_scrolling||Math.abs(h.delta_x)<Math.abs(j.touches[0].pageY-h.start_page_y))}if(!h.is_scrolling&&!h.active){j.preventDefault();f._stop_timer(e);var i=(h.delta_x<0)?"next":"prev";h.active=true;f._goto(e,i,function(){})}}).on("touchend.fndtn.orbit",function(h){g.data("swipe-transition",{});h.stopPropagation()})},_init_dimensions:function(e){var g=e.parent(),f=e.children();e.css("width",f.length*100+"%");f.css("width",100/f.length+"%");e.height(g.height());e.css("width",f.length*100+"%")},_start_timer:function(e){var g=this,k=e.parent();var l=function(){g._reset_timer(e,false);g._goto(e,"next",function(){g._start_timer(e)})};var j=k.find("."+g.settings.timer_container_class),f=j.find("."+g.settings.timer_progress_class),i=(f.width()/j.width()),h=g.settings.timer_speed-(i*g.settings.timer_speed);f.animate({width:"100%"},h,"linear",l);e.trigger("orbit:timer-started")},_stop_timer:function(e){var g=this,j=e.parent(),i=j.find("."+g.settings.timer_container_class),f=i.find("."+g.settings.timer_progress_class),h=f.width()/i.width();g._rebuild_timer(j,h*100+"%");e.trigger("orbit:timer-stopped");i=j.find("."+g.settings.timer_container_class);i.addClass(g.settings.timer_paused_class)},_reset_timer:function(e,g){var f=this,i=e.parent();f._rebuild_timer(i,"0%");if(typeof g==="boolean"&&g){var h=i.find("."+f.settings.timer_container_class);h.addClass(f.settings.timer_paused_class)}},_rebuild_timer:function(j,i){var f=this,h=j.find("."+f.settings.timer_container_class),g=c(f._timer_html()),k=g.find("."+f.settings.timer_progress_class);if(typeof Zepto==="function"){h.remove();j.append(g);k.css("width",i)}else{if(typeof jQuery==="function"){var e=h.find("."+f.settings.timer_progress_class);e.css("width",i);e.stop()}}},_goto:function(f,h,n){var p=this,o=f.parent(),j=f.children(),e=f.find("."+p.settings.active_slide_class),g=e.index(),l=Foundation.rtl?"marginRight":"marginLeft";if(o.hasClass(p.settings.orbit_transition_class)){return false}if(h==="prev"){if(g===0){g=j.length-1}else{g--}}else{if(h==="next"){g=(g+1)%j.length}else{if(typeof h==="number"){g=(h%j.length)}}}if(g===(j.length-1)&&h==="next"){f.css(l,"0%");g=1}else{if(g===0&&h==="prev"){f.css(l,"-"+(j.length-1)*100+"%");g=j.length-2}}o.addClass(p.settings.orbit_transition_class);e.removeClass(p.settings.active_slide_class);c(j[g]).addClass(p.settings.active_slide_class);var k=o.siblings("."+p.settings.bullets_container_class);if(k.length===1){k.children().removeClass(p.settings.bullets_active_class);c(k.children()[g-1]).addClass(p.settings.bullets_active_class)}var m="-"+(g*100)+"%";f.trigger("orbit:before-slide-change");if(f.css(l)===m){o.removeClass(p.settings.orbit_transition_class);f.trigger("orbit:after-slide-change",[{slide_number:g,total_slides:f.children().length-2}]);n()}else{var i={};i[l]=m;f.animate(i,p.settings.animation_speed,"linear",function(){o.removeClass(p.settings.orbit_transition_class);f.trigger("orbit:after-slide-change",[{slide_number:g,total_slides:f.children().length-2}]);n()})}}}}(Foundation.zj,this,this.document));